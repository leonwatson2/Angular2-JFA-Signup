{"version":3,"sources":["jfa.signup.component.ts"],"names":[],"mappings":"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","file":"jfa.signup.component.js","sourcesContent":["import {Component} from 'angular2/core';\r\nimport {NgClass} from 'angular2/common';\r\nimport {SearchPipe} from './search.pipe';\r\nimport {UsersService} from './users.service'\r\nimport {UserNumbersComponent} from './jfa.userNumbers.component';\r\nimport {SocialMediaComponent} from './jfa.socialmedia.component';\r\nimport {JFAFirstWordPipe} from './first.pipe';\r\n\r\n\r\nclass Flower{\r\n constructor(\r\n  public name:string,\r\n  public email:string,\r\n  public birthday:string,\r\n  public interests:Interest[]\r\n  ){}\r\n}\r\n\r\nclass Interest{\r\n  public id:number;\r\n  public name:string;\r\n}\r\n\r\n@Component({\r\n\tselector: 'jfa-signup',\r\n\ttemplateUrl: 'partials/signup.component.html',\r\n  directives: [UserNumbersComponent, NgClass, SocialMediaComponent],\r\n  pipes:[JFAFirstWordPipe],\r\n  styleUrls:[]\r\n  \r\n})\r\n\r\nexport class SignUpComponent {\r\n  public flower:Flower;\r\n  public numberOfSignups:number;\r\n  public users;\r\n  public numberOfUsers;\r\n  public interests: Interest[];\r\n  public clicking:boolean;\r\n  public isSignUpTime:boolean;\r\n  constructor(private usersService:UsersService){\r\n    this.isSignUpTime = true;\r\n    //for testing only\r\n    this.flower = new Flower(\"Katellin\",\"kate@me.com\",\"1993-04-07\",[]);\r\n  };\r\n\r\n  ngOnInit(){\r\n    this.clicking = false;\r\n    this.getUsers();\r\n    this.getInterests();\r\n  }\r\n  updateInterests(e, interest, form){\r\n    const allInterests = this.interests;\r\n    \r\n    if(e.target.checked){\r\n        //add all interests\r\n      if(interest.length == 0)\r\n        for (var i = 0; i < allInterests.length; ++i) {\r\n          if(this.flower.interests.indexOf(interest) < 0){\r\n            this.flower.interests.push(allInterests[i]);\r\n          }\r\n        }\r\n       else this.flower.interests.push(interest);\r\n    }\r\n    else {\r\n      if(interest.length == 0)\r\n        this.flower.interests = [];\r\n\r\n      let index = this.flower.interests.indexOf(interest);\r\n      this.flower.interests.splice(index,1);\r\n    }\r\n    console.log(this.flower.interests);\r\n  }\r\n  onSubmit(form){\r\n\r\n    this.usersService.addUser(this.flower).subscribe(\r\n      res => {\r\n          res.status == 201 ? this.getUsers() : console.log(\"Error\");\r\n      }, \r\n      err => { \r\n        console.log(err);\r\n      }, \r\n      () => this.resetForm());\r\n\r\n\r\n  }\r\n  resetForm(){\r\n    this.flower = new Flower(\"\",\"\",\"\",[]);\r\n  }\r\n  \r\n  getUsers(){\r\n    this.usersService.getUsers().subscribe((users) => {\r\n      this.users = users;\r\n      this.numberOfUsers = users.length;\r\n    });\r\n    \r\n  }\r\n  getInterests(){\r\n    this.usersService.getInterests().subscribe((interests) => {\r\n      this.interests = interests;\r\n    });\r\n  }\r\n\r\n  \r\n  toggleClicking(state){\r\n    console.log(state);\r\n    this.clicking = state;\r\n  }\r\n}\r\n\r\n\r\n"],"sourceRoot":"/source/"}